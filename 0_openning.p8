pico-8 cartridge // http://www.pico-8.com
version 39
__lua__
-- 0_openning.p8
function _init()
	open_time=clock()
	_upt=upt_start
	_drw=drw_start
	tick=0
end

function _update()
	_upt()
end
function _draw()
	_drw()
end
-->8
function upt_start()
	tick+=1
end

function upt_front()
	
end
-->8
function drw_start(spd)
	cls(12)
	str_chain(" go to work ",-.4,45,7)
	str_chain(open_time,.4,70,3)
end

function drw_front()
	cls()
	drw_clock(open_clock,40,60,3)
	drw_clock(clock(),94,121,7)
end
-->8
function str_chain(str,spd,y,c)
	str..=' '
	local x=0
	clip(13,y-1,114-13,y+5)
	for i=1,30 do
		local char=str[(i+flr(tick*spd))%#str+1]
		print(char,x,y,c)
		x+=char>'â–ˆ'and 8 or 4
	end
	clip()
end

function upt_tick()
	tick+=1
end

function clock()
	local str=''
	for i=93,95 do
		local s=tostr(stat(i))
		if (#s<2) s='0'..s
		if (i!=95) s=s..':'
		str..=s;
	end
	return str
end

function drw_clock(str,x,y,c)
	--rect(x,y,x+#str*4-2,y+4,2)
	print(str,x,y,c)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
